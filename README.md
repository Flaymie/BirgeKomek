<div align="center">
  <img src="./frontend/public/img/logo.png" alt="Логотип «Бірге Көмек»" width="200"/>
</div>

# Платформа взаимопомощи для школьников «Бірге Көмек»

## О проекте

**«Бірге Көмек»** (каз. "Поможем вместе") — это веб-платформа, разработанная в качестве научного проекта для конкурса «Дарын». Платформа предназначена для создания сообщества, где школьники могут помогать друг другу с учебой, обмениваться знаниями и получать помощь по различным академическим дисциплинам.

Основная цель проекта — предоставить удобный и безопасный инструмент для peer-to-peer (ученик-ученику) обучения, повысить академическую успеваемость и развить у учащихся чувство взаимопомощи.

## Технологический стек

Проект построен на базе популярного и современного стека **MERN** с добавлением технологий для работы в реальном времени:

-   **Фронтенд:**
    -   **React.js:** Библиотека для создания пользовательских интерфейсов.
    -   **Tailwind CSS:** Утилитарный CSS-фреймворк для быстрой и современной стилизации.
    -   **React Router:** Для навигации по одностраничному приложению (SPA).
    -   **Axios:** Для выполнения HTTP-запросов к бэкенду.
    -   **Socket.io-client:** Для подключения к WebSocket-серверу и работы чата в реальном времени.

-   **Бэкенд:**
    -   **Node.js:** Среда выполнения JavaScript на сервере.
    -   **Express.js:** Веб-фреймворк для создания API.
    -   **MongoDB:** NoSQL база данных для хранения информации о пользователях, заявках и сообщениях.
    -   **Mongoose:** Библиотека для моделирования объектов для MongoDB.
    -   **Socket.io:** Для организации двунаправленной связи в реальном времени (чаты, уведомления, онлайн-статус).
    -   **JSON Web Token (JWT):** Для безопасной аутентификации пользователей.
    -   **Telegram API:** Для интеграции с ботом (аутентификация, уведомления).

## Функционал платформы

-   **Система ролей:** Пользователи делятся на Учеников, Хелперов, Модераторов и Администраторов с разными правами доступа.
-   **Заявки на помощь:** Ученики могут создавать заявки с описанием проблемы, прикреплять файлы.
-   **Система откликов:** Хелперы могут откликаться на заявки, предлагая свою помощь.
-   **Чат в реальном времени:** После принятия отклика между учеником и хелпером создается приватный чат для обсуждения деталей.
-   **Рейтинг и отзывы:** После выполнения заявки ученик может оставить отзыв и поставить оценку хелперу.
-   **Профиль пользователя:** С информацией о пользователе, его рейтинге и истории активности.
-   **Интеграция с Telegram:** Возможность входа и регистрации через Telegram, а также получение уведомлений.

## Ключевые отличия от аналогов (Znanija.com, Brainly)

Хотя существуют глобальные платформы для вопросов и ответов, «Бірге Көмек» предлагает ряд уникальных преимуществ, ориентированных на качество и безопасность:

1.  **Фокус на процессе, а не на результате.** Наша платформа, благодаря встроенной ИИ-модерации, пресекает попытки просто "сдать" задание, отклоняя заявки с формулировками "решите за меня". Цель — помочь разобраться в теме, а не получить готовый ответ.
2.  **Управляемая среда и безопасность.** Мы внедрили несколько уровней защиты:
    *   **Анти-чит система:** Обнаруживает подозрительную активность и мультиаккаунты.
    *   **Автомодерация:** Анализирует все заявки на предмет ненормативной лексики, запрещенных тем и попыток обмана.
    *   **Рейтинговая система:** Мотивирует хелперов давать качественные ответы и помогает ученикам выбирать проверенных помощников.
3.  **Прямой контакт и совместная работа.** В отличие от формата "вопрос-ответ", наша платформа создает приватный чат между учеником и хелпером. Это позволяет вести полноценный диалог, задавать уточняющие вопросы и совместно работать над задачей в реальном времени.
4.  **Глубокая интеграция с Telegram.** Мы не просто используем Telegram для входа, а создали полноценную экосистему с кастомизированными уведомлениями, кнопками для быстрых действий и двухфакторной аутентификацией для критически важных действий модераторов.
5.  **Некоммерческая основа.** Проект является сугубо научным и социальным, он не содержит рекламы или платных функций, что создает более доверительную атмосферу.

## Возникшие сложности и принятые решения

В ходе разработки проекта был решен ряд нетривиальных задач:

-   **Проблема:** Как обеспечить качество помощи и предотвратить простое списывание?
    -   **Решение:** Разработан и внедрен многоступенчатый промпт для языковой модели (Google Gemini), которая не просто ищет "стоп-слова", а анализирует семантику запроса. Модель переформулирует заявку, делая ее понятной, но отклоняет просьбы выполнить работу за ученика. Дополнительно введена система отзывов и рейтинга.

-   **Проблема:** Как защитить платформу от злоумышленников, мультиаккаунтов и токсичного поведения?
    -   **Решение:** Создан middleware-модуль `multiAccountDetector`, который анализирует IP-адреса и временные метки для выявления подозрительных регистраций. Реализована гибкая система банов (временные, постоянные) и автоматическая модерация контента.

-   **Проблема:** Как обеспечить мгновенную связь между пользователями и отслеживать онлайн-статус?
    -   **Решение:** Использована библиотека `Socket.IO`. Для статусов реализован механизм "heartbeat": клиент периодически отправляет серверу сигнал "я онлайн", а сервер хранит в памяти список активных пользователей. При разрыве соединения (`disconnect`) пользователь автоматически удаляется из списка. Это позволило создать надежное WebSocket-соединение, систему "комнат" для чатов и отображение актуального онлайн-статуса без лишней нагрузки на БД.

-   **Проблема:** Как надежно обрабатывать загрузку файлов, не блокируя основной поток приложения и защищаясь от вредоносного контента?
    -   **Решение:** Интегрирована библиотека `Multer` для обработки `multipart/form-data`. Загрузка файлов вынесена в асинхронный middleware, который сначала сохраняет файл во временную директорию, а уже после успешной валидации и привязки к заявке переносит его в постоянное хранилище. Установлены строгие лимиты на размер и тип файлов.

-   **Проблема:** Как сделать процесс входа и регистрации максимально простым и привычным для школьников?
    -   **Решение:** Вместо классической регистрации по email, основной упор сделан на интеграцию с Telegram. Это позволило реализовать бесшовный вход, привязку аккаунта по одноразовому коду и систему уведомлений в привычной для пользователя среде.

## Безопасность

Безопасность пользователей и данных — ключевой приоритет проекта. Реализованы следующие меры защиты:

-   **Аутентификация и авторизация:**
    -   Для доступа к защищенным маршрутам используется механизм JSON Web Token (JWT). Токены имеют короткое время жизни для минимизации рисков.
    -   Реализована строгая система ролей (RBAC), где каждый API-endpoint проверяет права пользователя (ученик, хелпер, модератор).
-   **Защита от атак:**
    -   Все входящие данные проходят валидацию и очистку для предотвращения XSS и NoSQL-инъекций.
    -   Установлены лимиты на частоту запросов (rate limiting) для защиты от DDoS-атак и брутфорса.
    -   Пароли пользователей не хранятся в системе (используется только аутентификация через Telegram), что исключает риски их утечки.
-   **Конфиденциальность данных:**
    -   Чаты между пользователями являются приватными. Доступ к переписке имеет только модератор и только после получения жалобы.
    -   Все чувствительные данные, такие как ключи API и секреты, хранятся в переменных окружения (`.env`) и не попадают в систему контроля версий.

## Реальные кейсы использования

1.  **Срочная помощь перед контрольной.**
    *   **Пользователь:** Алия, 9 класс.
    *   **Ситуация:** Через час контрольная по алгебре, Алия не понимает, как решать уравнения с модулем.
    *   **Действия:** Она создает заявку на «Бірге Көмек», прикрепляет фото примера. Через 3 минуты откликается хелпер Данияр. В приватном чате он объясняет ей алгоритм решения, отвечает на вопросы. Алия успешно пишет контрольную.

2.  **Помощь и заработок рейтинга.**
    *   **Пользователь:** Тимур, 11 класс, хорошо знает физику.
    *   **Ситуация:** Тимур хочет укрепить свои знания и получить статус "Проверенного хелпера".
    *   **Действия:** Он заходит в ленту заявок и видит вопрос по закону Ома. Он берет заявку, подробно расписывает решение и объясняет концепцию. Ученик оставляет ему положительный отзыв и оценку 5/5.

3.  **Модерация конфликта.**
    *   **Пользователь:** Модератор Аружан.
    *   **Ситуация:** В ходе решения задачи ученик начал оскорблять хелпера. Хелпер отправляет жалобу на пользователя.
    *   **Действия:** Аружан получает уведомление. Она заходит в чат, видит нарушение правил, временно блокирует ученика и выносит ему предупреждение.

## Инструкция по локальному запуску

Для запуска проекта на вашем компьютере выполните следующие шаги:

### 1. Предварительные требования

-   У вас должен быть установлен [Node.js](https://nodejs.org/) (рекомендуется версия v18.x или выше).
-   У вас должен быть запущен экземпляр [MongoDB](https://www.mongodb.com/try/download/community).

### 2. Клонирование репозитория

```bash
git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
cd <НАЗВАНИЕ_ПАПКИ_ПРОЕКТА>
```

### 3. Настройка бэкенда

```bash
# Перейдите в папку с бэкендом
cd backend

# Установите зависимости
npm install

# Создайте файл .env на основе примера .env.example
# и заполните его вашими данными (строка подключения к MongoDB, JWT-секрет и т.д.)
cp .env.example .env
```
Откройте файл `.env` в текстовом редакторе и укажите необходимые параметры.

### 4. Настройка фронтенда

```bash
# Вернитесь в корень проекта и перейдите в папку с фронтендом
cd ../frontend

# Установите зависимости
npm install
```
Фронтенд не требует дополнительных файлов конфигурации, он будет подключаться к бэкенду по адресу, указанному в `proxy` в файле `package.json`.

### 5. Запуск проекта

Вам нужно будет запустить два процесса в двух разных терминалах.

**В первом терминале (для бэкенда):**

```bash
# Убедитесь, что вы в папке /backend
npm start
```
Сервер запустится на порту, указанном в вашем `.env` файле (по умолчанию 5050).

**Во втором терминале (для фронтенда):**

```bash
# Убедитесь, что вы в папке /frontend
npm start
```
Клиентское приложение React запустится в режиме разработки и автоматически откроется в вашем браузере по адресу `http://localhost:3000`. 

**В третьем терминале (для бота):**

```bash
# Убедитесь, что вы в папке /bot
node .
```

## Использованные материалы и источники

При разрабоке проекта я опирался на официальную документацию технологий и образовательные ресурсы.

### Документация
- [React](https://react.dev/)
- [Node.js](https://nodejs.org/ru/docs)
- [Express.js](https://expressjs.com/ru/)
- [MongoDB](https://www.mongodb.com/docs/)
- [Mongoose](https://mongoosejs.com/docs/guide.html)
- [Socket.IO](https://socket.io/docs/v4/)
- [Tailwind CSS](https://tailwindcss.com/docs/installation)
- [Telegram API (Bot)](https://core.telegram.org/bots/api)

### Образовательные курсы
- **JavaScript:**
  - [JavaScript, уровень 1](https://htmlacademy.ru/intensive/javascript) от HTML Academy
  - [Продвинутый JavaScript](https://learn.javascript.ru/) - Современный учебник JavaScript
- **React & Node.js:**
  - [Фулстек-разработка веб-сервиса на TypeScript, Reaсt, Node.js](https://stepik.org/course/210768/promo?search=7377060860) на Stepik
  - [Node.js - с нуля, основы и построение архитектуры приложений](https://stepik.org/course/105538/promo?search=7377067362) на Stepik
- **Общие принципы:**
  - [Алгоритмы: теория и практика. Методы](https://stepik.org/course/217?search=7378331692) на Stepik

### Консультации
- **AI-ассистенты:** В процессе разработки для решения конкретных проблем, отладки кода и поиска оптимальных подходов активно использовались консультации с моделями ChatGPT (версии 4.0) и Google Gemini. 

## Лицензия и авторство

**Автор:** Владимир (Flaymie)  
**GitHub:** [https://github.com/Flaymie](https://github.com/Flaymie)

Весь исходный код данного проекта является интеллектуальной собственностью автора.

**Разрешено:**
- Использовать проект в образовательных и некоммерческих целях.
- Форкать репозиторий для изучения и личных доработок.
- Использовать фрагменты кода в своих проектах с обязательным указанием авторства.

**Запрещено:**
- Полное или частичное копирование проекта с целью выдачи за свою работу.
- Использование проекта в коммерческих целях без письменного разрешения автора.
- Публикация проекта на других платформах без ссылки на оригинальный репозиторий. 